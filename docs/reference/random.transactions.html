<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simulate a Random Transaction Data Set — random.transactions • arules</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">arules</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference Manual</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/mhahsler/arules/">Development Version</a>
</li>
<li>
  <a href="https://github.com/mhahsler/arules">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://michael.hahsler.net">Michael Hahsler (Maintainer)</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate a Random Transaction Data Set</h1>
    </div>

    
    <p>Simulates a random <code><a href='transactions-class.html'>transactions</a></code> object using different
  methods.</p>
    

    <pre>random.transactions(nItems, nTrans, method = "independent", &#8230;,
	verbose = FALSE)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>nItems</dt>
      <dd>an integer. Number of items.</dd>
      <dt>nTrans</dt>
      <dd>an integer. Number of transactions.</dd>
      <dt>method</dt>
      <dd>name of the simulation method used (default: 
    all items occur independently).</dd>
      <dt>&#8230;</dt>
      <dd>further arguments used for the specific simulation 
    method (see details).</dd>
      <dt>verbose</dt>
      <dd>report progress.</dd>
    </dl>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function generates a <code>nitems</code> times <code>ntrans</code> 
  transaction database.</p>
    <p>Currently two simulation methods are implemented:
  <dl class='dl-horizontal'>
    <dt>method <code>&quot;independent&quot;</code> (see Hahsler et al., 2006)</dt><dd>
      All items are treated as independent. The transaction size
      is determined by \(rpois(lambda-1)+1\), where <code>lambda</code> can
      be specified (defaults to 3). Note that one subtracted from lambda 
      and added to the size to avoid 
      empty transactions. The items in the transactions are randomly
      chosen using the numeric probability
      vector <code>iProb</code> of length <code>nItems</code> 
      (default: 0.01 for each item).
  </dd>
  <dt>method <code>&quot;agrawal&quot;</code> (see Agrawal and Srikant, 1994)</dt><dd>
      This method creates transactions with correlated items 
         uses the following additional parameters:
      <dl class='dl-horizontal'>
      <dt>lTrans</dt><dd>average length of transactions.</dd> 
      <dt>nPats</dt><dd>number of patterns (potential maximal frequent itemsets) 
	used.</dd> 
      <dt>lPats</dt><dd>average length of patterns.</dd> 
      <dt>corr</dt><dd>correlation between consecutive patterns.</dd> 
      <dt>cmean</dt><dd>mean of the corruption level (normal distr.).</dd> 
      <dt>cvar</dt><dd>variance of the corruption level.</dd> 
      </dl></p>
    <p>The simulation is a two-stage process. First, a set of
      <code>nPats</code> patterns
      (potential maximal frequent itemsets) is generated. 
      The length of the patterns is Poisson distributed with mean
      <code>lPats</code> and consecutive patterns share some items controlled by
      the correlation parameter <code>corr</code>.
      For later use, for each pattern a pattern weight is 
      generated by drawing 
      from an exponential distribution with a mean of 1 and
      a corruption level is chosen from a normal distribution 
      with mean <code>cmean</code> and variance <code>cvar</code>.</p>
    <p>The patterns are created using the following function:</p>
    <p><code>random.patterns(nItems, nPats = 2000,  method = &quot;agrawal&quot;, lPats = 4, corr = 0.5, cmean = 0.5, cvar = 0.1, iWeight = NULL, verbose = FALSE)</code></p>
    <p>The function returns the patterns as an <code>itemsets</code> objects which can 
     be supplied to <code>random.transactions</code> as the argument <code>patterns</code>.
     If no argument <code>patterns</code> is supplied, the default values given above
     are used.</p>
    <p>In the second step, the transactions are generated using the patterns.
     The length the transactions follows a Poisson 
     distribution with mean <code>lPats</code>. For each transaction, patterns are 
     randomly chosen using the pattern weights till the transaction length
     is reached. For each chosen 
     pattern, the associated corruption level is used to drop some
     items before adding the pattern to the transaction.
  </dd>
  </dl></p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns an object of class
  <code><a href='transactions-class.html'>transactions</a></code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='transactions-class.html'>transactions-class</a></code>.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Michael Hahsler, Kurt Hornik, and Thomas Reutterer (2006). Implications of
probabilistic data modeling for mining association rules. In M. Spiliopoulou,
R. Kruse, C. Borgelt, A. Nuernberger, and W. Gaul, editors, <em>From Data and
Information Analysis to Knowledge Engineering, Studies in Classification, Data
Analysis, and Knowledge Organization</em>, pages 598--605. Springer-Verlag.</p>
    <p>Rakesh Agrawal and Ramakrishnan Srikant (1994). Fast algorithms for mining
association rules in large databases. In Jorge B. Bocca, Matthias Jarke, and
Carlo Zaniolo, editors,  <em>Proceedings of the 20th International Conference
on Very Large Data Bases, VLDB</em>, pages 487--499, Santiago, Chile.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## generate random 1000 transactions for 200 items with </span>
<span class='co'>## a success probability decreasing from 0.2 to 0.0001</span>
<span class='co'>## using the method described in Hahsler et al. (2006).</span>
<span class='no'>trans</span> <span class='kw'>&lt;-</span> <span class='fu'>random.transactions</span>(<span class='kw'>nItems</span> <span class='kw'>=</span> <span class='fl'>200</span>, <span class='kw'>nTrans</span> <span class='kw'>=</span> <span class='fl'>1000</span>,
   <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>iProb</span> <span class='kw'>=</span> <span class='fu'>seq</span>(<span class='fl'>0.2</span>,<span class='fl'>0.0001</span>, <span class='kw'>length</span><span class='kw'>=</span><span class='fl'>200</span>))

<span class='co'>## size distribution</span>
<span class='fu'>summary</span>(<span class='fu'><a href='size.html'>size</a></span>(<span class='no'>trans</span>))</div><div class='output co'>#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
#&gt;    1.00    4.00    5.00    5.05    6.00   14.00 </div><div class='input'>
<span class='co'>## display random data set</span>
<span class='fu'><a href='image.html'>image</a></span>(<span class='no'>trans</span>)</div><img src='random.transactions-4.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'>## use the method by Agrawal and Srikant (1994) to simulate transactions </span>
<span class='co'>## which contains correlated items. This should create data similar to</span>
<span class='co'>## T10I4D100K (we just create 100 transactions here to speed things up).</span>
<span class='no'>patterns</span> <span class='kw'>&lt;-</span> <span class='fu'>random.patterns</span>(<span class='kw'>nItems</span> <span class='kw'>=</span> <span class='fl'>1000</span>)
<span class='fu'>summary</span>(<span class='no'>patterns</span>)</div><div class='output co'>#&gt; set of 2000 itemsets
#&gt; 
#&gt; most frequent items:
#&gt; item159 item303 item699 item195 item128 (Other) 
#&gt;      68      57      54      49      46    7832 
#&gt; 
#&gt; element (itemset/transaction) length distribution:sizes
#&gt;   1   2   3   4   5   6   7   8   9  10  11 
#&gt; 100 278 426 469 358 194 100  47  18   6   4 
#&gt; 
#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
#&gt;   1.000   3.000   4.000   4.053   5.000  11.000 
#&gt; 
#&gt; summary of quality measures:
#&gt;     pWeights           pCorrupts     
#&gt;  Min.   :2.900e-08   Min.   :0.0000  
#&gt;  1st Qu.:1.569e-04   1st Qu.:0.2896  
#&gt;  Median :3.398e-04   Median :0.5013  
#&gt;  Mean   :5.000e-04   Mean   :0.5010  
#&gt;  3rd Qu.:6.755e-04   3rd Qu.:0.7089  
#&gt;  Max.   :3.830e-03   Max.   :1.0000  
#&gt; 
#&gt; includes transaction ID lists: FALSE </div><div class='input'>
<span class='no'>trans2</span> <span class='kw'>&lt;-</span> <span class='fu'>random.transactions</span>(<span class='kw'>nItems</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>nTrans</span> <span class='kw'>=</span> <span class='fl'>100</span>,
   <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"agrawal"</span>, <span class='kw'>patterns</span> <span class='kw'>=</span> <span class='no'>patterns</span>)
<span class='fu'><a href='image.html'>image</a></span>(<span class='no'>trans2</span>)</div><img src='random.transactions-8.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'>## plot data with items ordered by item frequency</span>
<span class='fu'><a href='image.html'>image</a></span>(<span class='no'>trans2</span>[,<span class='fu'>order</span>(<span class='fu'><a href='itemFrequency.html'>itemFrequency</a></span>(<span class='no'>trans2</span>), <span class='kw'>decreasing</span><span class='kw'>=</span><span class='fl'>TRUE</span>)])</div><img src='random.transactions-10.png' alt='' width='540' height='400' /></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    Michael Hahsler
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michael Hahsler, Christian Buchta, Bettina Gruen, Kurt Hornik.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
